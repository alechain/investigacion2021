install.packages("read_excel")
install.packages("read_xl")
install.packages("readxl")
install.packages("eph")
install.packages("eph")
install.packages("eph")
install.packages("tmap")
install.packages("tmap")
```
temp <- tempfile()
download.file("https://www.indec.gob.ar/ftp/cuadros/menusuperior/engho/engho2018_gastos.zip",temp)
temp <- tempfile()
download.file("https://www.indec.gob.ar/ftp/cuadros/menusuperior/engho/engho2018_gastos.zip",temp)
gastos <- read.table(unzip(temp, "engho2018_gastos.txt"),header = T, sep = "|", dec=".",fileEncoding = "utf-8" )
unlink(temp)
View(gastos)
unlink(temp)
temp
View(gastos)
eph::adulto_equivalente()
eph::adulto_equivalente
eph::centroides_aglomerados
centroides<- eph::centroides_aglomerados
View(centroides)
library(ggplot2)
library(tidyverse)
ggplot(centroides) %>% geom_map(x=lat, y=long)
library(leaflet)
leaflet() %>% addTiles() %>% leaflet::addAwesomeMarkers(lng = centroides$lon, lat=centroides$lon)
leaflet() %>% addTiles() %>% leaflet::addAwesomeMarkers(lng = centroides$lat, lat=centroides$lon)
leaflet() %>% addTiles() %>% leaflet::addAwesomeMarkers(lng = centroides$lon, lat=centroides$lat)
ggplot(centroides) %>% geom_sf(mapping = aes(x=lat, y=long))
ggplot(centroides) + geom_sf(mapping = aes(x=lat, y=long))
ggplot(centroides) + geom_sf(mapping = aes(x=lat, y=lon))
ggplot(centroides) + geom_sf(mapping = aes(x=centroides$lat, y=centroides$lon))
tmaptools::geocode_OSM("French 133, Resistencia Argentina")
library(eph)
bases<-eph::get_microdata(year = 2005, trimester = 1:4)
panel<-eph::organize_panels(bases = bases$microdata, variables = c("ESTADO","PONDERA"), window = "trimestral")
View(panel)
library(tidyverse)
library(leaflet)
library(leaflet.providers)
library(tmap)
library(tmaptools)
file.choose()
library(sf)
library(tidyverse)
library(leaflet)
library(leaflet.providers)
library(tmap)
library(tmaptools)
library(sf)
sf<- read_sf(shape)
shape<-"/home/alejandrochain/Escritorio/farmacias.shp"
sf<- read_sf(shape)
View(sf)
leaflet() %>% addTiles() %>% addMarkers(sf)
View(sf)
sf<-
leaflet() %>% addTiles() %>% addMarkers(sf$geometry)
sf<- sf %>% separate(col = geometry, into = c("lat", "long"))
sf$geometry<- as.character(sf$geometry)
sf<- sf %>% separate(col=geometry, into = c("lat","Long"), sep = ",")
sf<- sf %>% separate(col=geometry, into = c("lat","Long"), sep = ",")
sf<- sf %>% separate(col=sf$geometry, into = c("lat","Long"), sep = ",")
sf<- sf %>% separate(col=sf$geometry, into = c("lat","Long"),sep = ",")
sf$geometry
sf<- sf %>%  str_split(string = geometry,pattern = ",",n = 2)
sf<- sf %>%  str_split(string = sf$geometry,pattern = ",",n = 2)
sf<- read_sf(shape)
dataset<- read.csv("https://sisa.msal.gov.ar/datos/descargas/covid-19/files/datos_nomivac_covid19.csv",sep=";", encoding = "UTF-8")
dataset<- read.csv("https://sisa.msal.gov.ar/datos/descargas/covid-19/files/datos_nomivac_covid19.csv",sep=";", encoding = "UTF-8")
temp<- tempfile()
download.file("https://sisa.msal.gov.ar/datos/descargas/covid-19/files/datos_nomivac_covid19.csv", temp)
download.file("https://sisa.msal.gov.ar/datos/descargas/covid-19/files/datos_nomivac_covid19.csv", temp)
getOption("timeout")
options(timeout=200)
download.file("https://sisa.msal.gov.ar/datos/descargas/covid-19/files/datos_nomivac_covid19.csv", temp,)
dataset<- read.csv(temp,sep=";", encoding = "UTF-8")
View(dataset)
dataset<- read.csv(temp,sep=".", encoding = "UTF-8", dec=",")
View(dataset)
dataset<- read.csv(temp,sep=",", encoding = "UTF-8", dec=".")
View(dataset)
dataset<- dataset %>% filter(jurisdiccion_residencia_id==18)
library(tidyverse)
dataset<- dataset %>% filter(jurisdiccion_residencia_id==18)
View(dataset)
dataset<- dataset %>% filter(depto_residencia_id==21)
unique(dataset$grupo_etario)
grupo<- data_frame(x=c("18-29","30-39","40-49","50-59", "60-69","70-79","80-89", "90-99",">=100","S.I."),y=c(seq(1,10, by=1)))
View(grupo)
dataset$grupo_etario<- factor(dataset$grupo_etario, levels = c("18-29","30-39","40-49","50-59", "60-69","70-79","80-89", "90-99",">=100","S.I."))
grupo<- data_frame(grupo_etario=c("18-29","30-39","40-49","50-59", "60-69","70-79","80-89", "90-99",">=100","S.I."),y=c(seq(1,10, by=1)))
dataset<- left_join(dataset,grupo_etario)
dataset<- left_join(dataset,grupo)
rm(list=ls())
library(tidyverse)
setwd("~/GitHub/investigacion2021/macrolocalizacion")
pwd
pwd()
pwd()
getwd
getwd()
setwd("~/GitHub/investigacion2021/macrolocalizacion")
file.choose()
setwd("home/alejandrochain/Documentos/GitHub/investigacion2021/macrolocalizacion")
setwd("/home/alejandrochain/Documentos/GitHub/investigacion2021/macrolocalizacion")
desocu<- read.csv("desocupacion_para_r")
desocu<- read.csv("desocupacion_para_r.csv", header=T, sep=",")
View(desocu)
names(desocu)
nombres<- c(names(desocu))
str_detect(nombres,pattern = "X")
str_extract(nombres,pattern = "X")
str_match(nombres,pattern = "X")
str_remove(nombres,pattern = "X")
str_remove(nombres,pattern = "X.")
str_remove(nombres,pattern = "X.\")
str_remove(nombres,pattern = "X.\\")
nombres<- c(names(desocu))
str_remove(nombres,pattern = "X.\\")
str_remove(nombres,pattern = "X.\ \")
str_remove(nombres,pattern = "X.[numbres]")
str_remove(nombres,pattern = "X.[[numbres]]")
str_remove(nombres,pattern = "X.")
str_remove(nombres,pattern = "X .")
str_remove(nombres,pattern = "X")
str_remove(nombres,pattern = "X..")
nombres<- c(names(desocu))
str_remove(nombres,pattern = "X..")
nombres<-c(str_remove(nombres,pattern = "X.."))
desocu<- desocu %>% pivot_longer(-c(provincias,aglomerados))
desocu<- read.csv("desocupacion_para_r.csv", header=T, sep=",")
View(desocu)
desocu<- read.csv("desocupacion_para_r.csv", header=T, sep=",")
desocu<- desocu %>% pivot_longer(-c(provincias,aglomerados))
View(desocu)
desocu$name<- str_remove(string = desocu$name, pattern = "X..")
desocu %>% group_by(provincias)
desocu %>% group_by(provincias, name) %>% summarise(media_desocu=mean(value))
desocu<- read.csv("desocupacion_para_r.csv", header=T, sep=",")
desocu<- desocu %>% pivot_longer(-c(provincias,aglomerados))
desocu<- read.csv("desocupacion_para_r.csv", header=T, sep=",")
desocu<- desocu %>% pivot_longer(-c(provincias,aglomerados))
desocu$name<- str_remove(string = desocu$name, pattern = "X.")
desocu<- read.csv("desocupacion_para_r.csv", header=T, sep=",")
desocu<- desocu %>% pivot_longer(-c(provincias,aglomerados))
desocu$name<- str_remove(string = desocu$name, pattern = "X")
desocu %>% group_by(provincias, name) %>% summarise(media_desocu=mean(value))
desocu<- read.csv("desocupacion_para_r.csv", header=T, sep=",")
level<- c(names(desocu[,3:]))
level<- c(names(desocu))
level<- c(names(desocu))[2:]
level<- c(names(desocu))
level[2:]
level[2:3
level[2:3]
level[3:len(level)]
level[3:length(level)]
level[2:length(level)]
desocu<- read.csv("desocupacion_para_r.csv", header=T, sep=",")
level<- c(names(desocu))
level<-level[3:length(level)]
desocu<- desocu %>% pivot_longer(-c(provincias,aglomerados))
desocu$name<- factor(desocu$name, levels = level)
desocu %>% group_by(provincias, name) %>% summarise(media_desocu=mean(value))
desocu<- desocu %>% pivot_wider(names_from = name, values_from(value))
desocu<- desocu %>% pivot_wider(names_from = "name", values_from("value"))
desocu %>% group_by(provincias, name) %>% summarise(media_desocu=mean(value))
desocu<-desocu %>% group_by(provincias, name) %>% summarise(media_desocu=mean(value))
View(desocu)
desocu<- desocu %>% pivot_wider(names_from = "name", values_from("media_desocu"))
desocu<- desocu %>% pivot_wider(names_from = "name", values_from="media_desocu")
View(desocu)
install.packages("readxl")
install.packages("readxl")
install.packages("xlsx")
install.packages("rJava")
install.packages("writexl")
library(tidyverse)
writexl::write_xlsx(x = desocu,path = "desocupados_definitivo")
writexl::write_xlsx(x = desocu,path = "desocupados_definitivo.xlsx")
library(tidyverse)
library(writexl)
activ<- read.csv("actividad_para_r.csv", header=T, sep=",")
View(activ)
level<- c(names(activ))
level<-level[3:length(level)]
activ<- activ %>% pivot_longer(-c(provincias,aglomerados))
activ$name<- factor(activ$name, levels = level)
activ<-activ %>% group_by(provincias, name) %>% summarise(media_activ=mean(value))
activ<- activ %>% pivot_wider(names_from = "name", values_from="media_activ")
View(activ)
writexl::write_xlsx(x = activ,path = "activ_definitivo.xlsx")
View(desocu)
View(activ)
